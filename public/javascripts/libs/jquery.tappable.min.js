(function(a){function c(a,b,c,d){if(typeof a=="function")return a.call(b[0],c,d)}var b="ontouchstart"in window;a.fn.tappable=function(d){var e={cancelOnMove:true,onlyIf:function(){return true},touchDelay:0,callback:undefined};switch(typeof d){case"function":e.callback=d;break;case"object":a.extend(e,d);break}if(b){this.bind("touchstart",function(b){var c=a(this);if(e.onlyIf(this)){c.prop("tappableEvent",b);window.setTimeout(function(){if(c.prop("tappableEvent")){c.addClass("touched")}},e.touchDelay)}});this.bind("touchend",function(b){var d=a(this);if(d.prop("tappableEvent")){b=d.prop("tappableEvent");d.removeProp("tappableEvent").removeClass("touched");return c(e.callback,d,b,true)}});if(e.cancelOnMove){this.bind("touchmove",function(){a(this).removeProp("tappableEvent").removeClass("touched")})}}else{this.bind("click",function(b){if(e.onlyIf(this)){return c(e.callback,a(this),b,false)}})}return this}})(jQuery)
